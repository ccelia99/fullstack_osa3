{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Note.js","components/Persons.js","services/person.js","Notification.js","App.js","index.js"],"names":["Filter","props","type","value","searchTerm","onChange","PersonAdd","text","name","Button","onClick","PersonForm","onSubmit","Note","note","number","Persons","list","map","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","App","useState","person","setPerson","newName","setNewName","filteredPerson","setFilteredPerson","setSearchTerm","errorMessage","setErrorMessage","useEffect","personService","initialPersons","results","filter","p","toLowerCase","includes","event","target","console","log","preventDefault","nameObject","find","window","confirm","returnedNote","setTimeout","catch","error","n","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"uMASeA,EAPA,SAACC,GAAD,OACb,gCACE,oDACA,8BAAK,uBAAOC,KAAK,OAAOC,MAAOF,EAAMG,WAAYC,SAAUJ,EAAMI,iBCH/DC,EAAY,SAACL,GAAD,OACd,gCACKA,EAAMM,KADX,IACiB,uBAAOL,KAAK,OAAOM,KAAMP,EAAMO,KAAML,MAAQF,EAAME,MAAOE,SAAUJ,EAAMI,eAIzFI,EAAS,SAACR,GAAD,OACf,wBAAQS,QAAST,EAAMS,QAAvB,SACKT,EAAMM,QAaII,EATI,SAACV,GACpB,OACA,uBAAMW,SAAUX,EAAMW,SAAtB,UACI,cAAC,EAAD,CAAWL,KAAK,OAAOJ,MAAQF,EAAME,MAAOK,KAAK,OAAOH,SAAUJ,EAAMI,WACxE,cAAC,EAAD,CAAWE,KAAK,SAASJ,MAAOF,EAAME,MAAOK,KAAK,SAASH,SAAUJ,EAAMI,WAC3E,cAAC,EAAD,CAAQE,KAAK,YCRFM,EARF,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,KAAMJ,EAAa,EAAbA,QAInB,OACE,mCAAMI,EAAKN,KAAX,IAAkBM,EAAKC,OAAvB,IAA+B,wBAAQL,QAAS,kBAAMA,EAAQI,IAAOA,KAAMA,EAA5C,yBCIlBE,EATD,SAACf,GAAD,OACZ,8BACE,6BACGA,EAAMgB,KAAKC,KAAK,SAAAJ,GAAI,OACjB,cAAC,EAAD,CAAsBA,KAAMA,EAAMJ,QAAST,EAAMS,SAAtCI,EAAKN,c,gBCNtBW,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALM,SAACG,GAClBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,KCNdG,EAXI,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KC+HME,EAjIH,WAAO,IAAD,EACYC,mBAAS,IADrB,mBACTC,EADS,KACDC,EADC,OAEcF,mBAAS,CAAC1B,KAAM,GAAIO,OAAQ,KAF1C,mBAETsB,EAFS,KAEAC,EAFA,OAG4BJ,mBAAS,IAHrC,mBAGTK,EAHS,KAGOC,EAHP,OAIoBN,mBAAS,IAJ7B,mBAIT9B,EAJS,KAIGqC,EAJH,OAKwBP,mBAAS,IALjC,mBAKTQ,EALS,KAKKC,EALL,KAOhBC,qBAAU,WACRC,IAEGvB,MAAK,SAAAwB,GACJV,EAAUU,QAEb,IAGHF,qBAAW,WACP,IAAMG,EAAUZ,EAAOa,QAAQ,SAAAC,GAAC,OAC9BA,EAAEzC,KAAK0C,cAAcC,SAAS/C,MAChCoC,EAAkBO,KACpB,CAACZ,EAAO/B,IA8FV,OACE,gCACE,2CACA,cAAC,EAAD,CAAc2B,QAASW,IACvB,cAAC,EAAD,CAAQtC,WAAYA,EAAYC,SATX,SAAC+C,GACxBX,EAAcW,EAAMC,OAAOlD,OAC3BmD,QAAQC,IAAI,SAAUpB,MASpB,2CACA,cAAC,EAAD,CAAYvB,SAnGA,SAACwC,GACfA,EAAMI,iBACN,IAAMC,EAAa,CACjBjD,KAAM6B,EAAQ7B,KACdO,OAAQsB,EAAQtB,QAGlB,GAAIoB,EAAOuB,MAAK,SAAAT,GAAC,OAAIA,EAAEzC,OAAS6B,EAAQ7B,SACtC,GAAImD,OAAOC,QAAP,UAAkBvB,EAAQ7B,KAA1B,2EAAyG,CAC3G,IAAMmB,EAAKQ,EAAOuB,MAAM,qBAAElD,OACf6B,EAAQ7B,QAAOmB,GAC1B2B,QAAQC,IAAI,KAAM5B,GAElBkB,EACUlB,EAAI8B,GACXnC,MAAK,SAAAuC,GAEJlB,EAAgB,yBAAD,OACYN,EAAQ7B,OAEnCsD,YAAW,WACTnB,EAAgB,QACf,KACHP,EAAUD,EAAOjB,KAAI,SAAAJ,GAAI,OAAIA,EAAKa,KAAOA,EAAKb,EAAO+C,SAEtDE,OAAM,SAAAC,GACLrB,EAAgB,mBAAD,OACMN,EAAQ7B,KADd,0CAGfsD,YAAW,WACTnB,EAAgB,QACf,KACHP,EAAUD,EAAOa,QAAO,SAAAiB,GAAC,OAAIA,EAAEtC,KAAOA,eAK5CkB,EACQY,GACPnC,MAAK,SAAA4C,GACJvB,EAAgB,SAAD,OACJN,EAAQ7B,OAEnBsD,YAAW,WACTnB,EAAgB,QACf,KACHP,EAAUD,EAAOgC,OAAOD,IACxB5B,EAAW,CAAC9B,KAAM,GAAIO,OAAQ,QAGhCuC,QAAQC,IAAI,UAAWlB,EAAQ7B,OAiDAH,SA7CX,SAAC+C,GACvBE,QAAQC,IAAI,qBAAsBH,EAAMC,OAAO7C,MAC/C8C,QAAQC,IAAI,sBAAuBH,EAAMC,OAAOlD,OAChDmC,EAAW,2BAAID,GAAL,kBACPe,EAAMC,OAAO7C,KAAO4C,EAAMC,OAAOlD,YA2ClC,yCACA,cAAC,EAAD,CAASc,KAAMsB,EAAgB7B,QAxCR,SAACI,GACtB6C,OAAOC,QAAP,uCAA+C9C,EAAKN,KAApD,QACFqC,EACgB/B,EAAKa,IAErBgB,EAAgB,WAAD,OACF7B,EAAKN,OAElBsD,YAAW,WACTnB,EAAgB,QACf,KACHP,EAAUD,EAAOa,QAAO,SAAAiB,GAAC,OAAIA,EAAEtC,KAAOb,EAAKa,e,MCjGjDyC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.f1986a67.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => (\r\n  <div>\r\n    <div>filter shown with</div>\r\n    <div><input type='text' value={props.searchTerm} onChange={props.onChange}  /></div> \r\n  </div>\r\n)\r\n\r\nexport default Filter\r\n  ","import React from 'react'\r\n\r\nconst PersonAdd = (props) => (\r\n    <div>\r\n        {props.text}:<input type='text' name={props.name} value ={props.value} onChange={props.onChange}  />\r\n    </div>\r\n  )\r\n\r\nconst Button = (props) => (\r\n<button onClick={props.onClick}>\r\n    {props.text}\r\n</button>\r\n)\r\n  \r\nconst PersonForm = (props) => {\r\nreturn (\r\n<form onSubmit={props.onSubmit}>\r\n    <PersonAdd text='Name' value ={props.value} name='name' onChange={props.onChange }  />\r\n    <PersonAdd text='Number' value={props.value} name='number' onChange={props.onChange }  />      \r\n    <Button text='Add' />\r\n</form>\r\n)}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n\r\nconst Note = ({note, onClick}) => { \r\n  \r\n\r\n\r\n  return (\r\n    <li> {note.name} {note.number} <button onClick={() => onClick(note)} note={note} > delete</button></li>\r\n  )\r\n}\r\nexport default Note","import React from 'react'\r\nimport Note from './Note'\r\n\r\nconst Persons = (props) => (\r\n    <div>\r\n      <ul>\r\n        {props.list.map( note => \r\n            <Note key={note.name} note={note} onClick={props.onClick} />        \r\n          )}  \r\n      </ul>\r\n    </div>\r\n  )\r\n  export default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\nexport default {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deletePerson\r\n}","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  export default Notification","import React, {useState, useEffect} from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/person'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [person, setPerson] = useState([])\n  const [newName, setNewName] = useState({name: '', number: ''})\n  const [filteredPerson, setFilteredPerson] = useState([])\n  const [searchTerm, setSearchTerm] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPerson(initialPersons)\n      })\n  }, [])\n\n\n  useEffect( () => {       \n      const results = person.filter( p =>\n        p.name.toLowerCase().includes(searchTerm) )      \n      setFilteredPerson(results)      \n  },[person,searchTerm] )\n  \n  const addName = (event) => {\n    event.preventDefault() \n    const nameObject = {\n      name: newName.name,\n      number: newName.number\n    }\n  \n    if (person.find(p => p.name === newName.name)) {\n      if (window.confirm(`${newName.name} is already added to phonebook. Replace the old number with a new one?`)) {\n        const id = person.find( ({name}) => \n          name === newName.name ).id\n        console.log('id', id)\n\n        personService\n          .update(id, nameObject)\n          .then(returnedNote => {\n            \n            setErrorMessage(\n              `Changed the number of ${newName.name}`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPerson(person.map(note => note.id !== id ? note : returnedNote))\n          })\n          .catch(error => {\n            setErrorMessage(\n              `Information of  ${newName.name} has already been removed from server`\n            )\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPerson(person.filter(n => n.id !== id))\n          })\n        }\n    }\n    else { \n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setErrorMessage(\n          `Added ${newName.name}`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setPerson(person.concat(returnedPerson))\n        setNewName({name: '', number: ''})                  \n      })\n      \n      console.log('newName', newName.name )           \n    }  \n  }\n\n  const handleAddPerson = (event) => {\n    console.log('event.target.name ', event.target.name) \n    console.log('event.target.value ', event.target.value)\n    setNewName({...newName,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  const handleDeletePerson = (note) => {   \n    if (window.confirm(`Do you really want to delete ${note.name}?`)) {\n      personService\n        .deletePerson(note.id)\n\n      setErrorMessage(\n        `Deleted ${note.name}`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setPerson(person.filter(n => n.id !== note.id))\n\n      /*.catch(error => {\n        setErrorMessage(\n          `Information of  ${note.name} has already been removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        \n      })  */    \n    }       \n  }\n\n  const handleSearchTerm = (event) => {\n    setSearchTerm(event.target.value)\n    console.log('person', person)   \n  }\n\n  return (\n    <div >\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Filter searchTerm={searchTerm} onChange={handleSearchTerm} /> \n\n      <h3>Add a new</h3>  \n      <PersonForm onSubmit={addName} onChange={handleAddPerson} />\n      \n      <h2>Numbers</h2>\n      <Persons list={filteredPerson} onClick={handleDeletePerson} />\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}